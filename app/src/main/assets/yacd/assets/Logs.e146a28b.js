import{r as m,b as l,j as o,P as u,d as y,G as T,H as b,w as P,J as L,u as R,C as w,S as C,K as N,L as W,g as k,N as j,h as z,c as I}from"./index.5b186934.js";import{a as O,F}from"./index.esm.1963564c.js";import{r as M,s as $,f as H}from"./logs.c0e28075.js";import{d as A}from"./debounce.76599460.js";import{u as B}from"./useRemainingViewPortHeight.a3932951.js";import{F as D,p as E}from"./Fab.79155072.js";import{P as K,a as q}from"./play.4b310d18.js";function G(e,n){if(e==null)return{};var r=J(e,n),a,t;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)a=s[t],!(n.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,a)||(r[a]=e[a]))}return r}function J(e,n){if(e==null)return{};var r={},a=Object.keys(e),t,s;for(s=0;s<a.length;s++)t=a[s],!(n.indexOf(t)>=0)&&(r[t]=e[t]);return r}var _=m.exports.forwardRef(function(e,n){var r=e.color,a=r===void 0?"currentColor":r,t=e.size,s=t===void 0?24:t,g=G(e,["color","size"]);return l("svg",{ref:n,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...g,children:[o("circle",{cx:"11",cy:"11",r:"8"}),o("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})});_.propTypes={color:u.string,size:u.oneOfType([u.string,u.number])};_.displayName="Search";var V=_;const Y="_RuleSearch_1gcst_1",Q="_RuleSearchContainer_1gcst_5",U="_inputWrapper_1gcst_10",X="_input_1gcst_10",Z="_iconWrapper_1gcst_35";var p={RuleSearch:Y,RuleSearchContainer:Q,inputWrapper:U,input:X,iconWrapper:Z};function ee({dispatch:e,searchText:n,updateSearchText:r}){const[a,t]=m.exports.useState(n),s=m.exports.useCallback(i=>{e(r(i))},[e,r]),g=m.exports.useMemo(()=>A(s,300),[s]),d=i=>{t(i.target.value),g(i.target.value)};return o("div",{className:p.RuleSearch,children:l("div",{className:p.RuleSearchContainer,children:[o("div",{className:p.inputWrapper,children:o("input",{type:"text",value:a,onChange:d,className:p.input})}),o("div",{className:p.iconWrapper,children:o(V,{size:20})})]})})}const te=e=>({searchText:T(e),updateSearchText:b});var oe=y(te)(ee);const re="_logMeta_1dg5t_1",ae="_logType_1dg5t_8",ne="_logTime_1dg5t_18",se="_logText_1dg5t_24",ce="_logsWrapper_1dg5t_37",ie="_logPlaceholder_1dg5t_51",le="_logPlaceholderIcon_1dg5t_64";var c={logMeta:re,logType:ae,logTime:ne,logText:se,logsWrapper:ce,logPlaceholder:ie,logPlaceholderIcon:le};const{useCallback:x,memo:ge,useEffect:pe}=z,f=30,de={debug:"#28792c",info:"var(--bg-log-info-tag)",warning:"#b99105",error:"#c11c1c"};function he({time:e,even:n,payload:r,type:a}){const t=I({even:n},"log");return o("div",{className:t,children:l("div",{className:c.logMeta,children:[o("div",{className:c.logTime,children:e}),o("div",{className:c.logType,style:{backgroundColor:de[a]},children:a}),o("div",{className:c.logText,children:r})]})})}function ue(e,n){return n[e].id}const me=ge(({index:e,style:n,data:r})=>{const a=r[e];return o("div",{style:n,children:o(he,{...a})})},O);function fe({dispatch:e,logLevel:n,apiConfig:r,logs:a,logStreamingPaused:t}){const s=P(),g=x(()=>{t?M({...r,logLevel:n}):$(),s.app.updateAppConfig("logStreamingPaused",!t)},[r,n,t,s.app]),d=x(S=>e(L(S)),[e]);pe(()=>{H({...r,logLevel:n},d)},[r,n,d]);const[i,v]=B(),{t:h}=R();return l("div",{children:[o(w,{title:h("Logs")}),o(oe,{}),o("div",{ref:i,style:{paddingBottom:f},children:a.length===0?l("div",{className:c.logPlaceholder,style:{height:v-f},children:[o("div",{className:c.logPlaceholderIcon,children:o(C,{width:200,height:200})}),o("div",{children:h("no_logs")})]}):l("div",{className:c.logsWrapper,children:[o(F,{height:v-f,width:"100%",itemCount:a.length,itemSize:80,itemData:a,itemKey:ue,children:me}),o(D,{icon:t?o(K,{size:16}):o(q,{size:16}),mainButtonStyles:t?{background:"#e74c3c"}:{},style:E,text:h(t?"Resume Refresh":"Pause Refresh"),onClick:g})]})})]})}const _e=e=>({logs:N(e),logLevel:W(e),apiConfig:k(e),logStreamingPaused:j(e)});var Le=y(_e)(fe);export{Le as default};
