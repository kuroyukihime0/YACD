!function(){var e=document.createElement("style");e.innerHTML="._root_1tdl3_1,._section_1tdl3_2{display:grid;grid-template-columns:repeat(auto-fill,minmax(345px,1fr));max-width:900px;gap:5px}@media screen and (min-width: 30em){._root_1tdl3_1,._section_1tdl3_2{gap:15px}}._root_1tdl3_1,._section_1tdl3_2{padding:6px 15px 10px}@media screen and (min-width: 30em){._root_1tdl3_1,._section_1tdl3_2{padding:10px 40px 15px}}._wrapSwitch_1tdl3_26{height:40px;display:flex;align-items:center}._sep_1tdl3_32{max-width:900px;padding:0 15px}@media screen and (min-width: 30em){._sep_1tdl3_32{padding:0 40px}}._sep_1tdl3_32>div{border-top:1px dashed #373737}._label_1tdl3_45{padding:11px 0}._fieldset_1ghjp_1{margin:0;padding:0;border:0;display:flex;flex-wrap:wrap}._input_1ghjp_9+._cnt_1ghjp_9{border:1px solid transparent;border-radius:8px;cursor:pointer;margin-right:5px;margin-bottom:5px}._input_1ghjp_9:focus+._cnt_1ghjp_9{border-color:#387cec}._input_1ghjp_9:checked+._cnt_1ghjp_9{border-color:#387cec}\n",document.head.appendChild(e),System.register(["./index-legacy.5b293253.js","./logs-legacy.5662c4bd.js","./Select-legacy.d81fdd6d.js"],(function(e){"use strict";var t,n,l,a,r,i,o,d,s,c,p,u,g,h,_,m,f,v,y,x,b,w,C,k,j,N,S;return{setters:[function(e){t=e.r,n=e.b,l=e.j,a=e.P,r=e.s,i=e.R,o=e.c,d=e.i,s=e.k,c=e.l,p=e.n,u=e.h,g=e.d,h=e.o,_=e.g,m=e.q,f=e.t,v=e.v,y=e.w,x=e.u,b=e.C,w=e.x,C=e.B,k=e.y,j=e.z},function(e){N=e.r},function(e){S=e.S}],execute:function(){function O(e,t){if(null==e)return{};var n,l,a=function(e,t){if(null==e)return{};var n,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)n=r[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var P=t.exports.forwardRef((function(e,t){var a=e.color,r=void 0===a?"currentColor":a,i=e.size,o=void 0===i?24:i,d=O(e,["color","size"]);return n("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[l("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l("polyline",{points:"16 17 21 12 16 7"}),l("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}));P.propTypes={color:a.string,size:a.oneOfType([a.string,a.number])},P.displayName="LogOut";var L=P;const{useState:I,useRef:T,useEffect:E,useCallback:R}=i;function z(e){return l("input",{className:r.input,...e})}function M({value:e,...t}){const[n,a]=I(e),i=T(e);E((()=>{i.current!==e&&a(e),i.current=e}),[e]);const o=R((e=>a(e.target.value)),[a]);return l("input",{className:r.input,value:n,onChange:o,...t})}var U="_root_1tdl3_1",A="_section_1tdl3_2",B="_wrapSwitch_1tdl3_26",D="_sep_1tdl3_32",H="_label_1tdl3_45";var G="_fieldset_1ghjp_1",W="_input_1ghjp_9",q="_cnt_1ghjp_9";function K({OptionComponent:e,optionPropsList:t,selectedIndex:a,onChange:r}){const i=o("visually-hidden",W),d=e=>{r(e.target.value)};return l("fieldset",{className:G,children:t.map(((t,r)=>n("label",{children:[l("input",{type:"radio",checked:a===r,name:"selection",value:r,"aria-labelledby":"traffic chart type "+r,onChange:d,className:i}),l("div",{className:q,children:l(e,{...t})})]},r)))})}const{useMemo:V}=u,$={plugins:{legend:{display:!1}},scales:{x:{display:!1,type:"category"},y:{display:!1,type:"linear"}}},F=[23e3,35e3,46e3,33e3,9e4,68e3,23e3,45e3],J=[184e3,183e3,196e3,182e3,19e4,186e3,182e3,189e3],Q=F;function X({id:e}){const t=d.read(),n=V((()=>({labels:Q,datasets:[{...s,...c[e].up,data:F},{...s,...c[e].down,data:J}]})),[e]),a="chart-"+e;return p(t.Chart,a,n,null,$),l("div",{style:{width:100,padding:5},children:l("canvas",{id:a})})}const{useEffect:Y,useState:Z,useCallback:ee,useRef:te,useMemo:ne}=u,le=[{id:0},{id:1},{id:2},{id:3}],ae=[["debug","Debug"],["info","Info"],["warning","Warning"],["error","Error"],["silent","Silent"]],re=[{key:"port",label:"HTTP Proxy Port"},{key:"socks-port",label:"SOCKS5 Proxy Port"},{key:"mixed-port",label:"Mixed Port"},{key:"redir-port",label:"Redir Port"}],ie=[["zh","中文"],["en","English"]],oe=[["Global","Global"],["Rule","Rule"],["Direct","Direct"]],de=g((e=>({selectedChartStyleIndex:k(e),latencyTestUrl:j(e),apiConfig:_(e)})))((function({dispatch:e,configs:t,selectedChartStyleIndex:a,latencyTestUrl:r,apiConfig:i}){const[o,d]=Z(t),s=te(t);Y((()=>{s.current!==t&&d(t),s.current=t}),[t]);const c=ee((()=>{e(f("apiConfig"))}),[e]),p=ee(((e,t)=>{d({...o,[e]:t})}),[o]),u=ee((t=>{const n=t;p("allow-lan",n),e(v(i,{"allow-lan":n}))}),[i,e,p]),g=ee((({name:t,value:n})=>{switch(t){case"mode":case"log-level":p(t,n),e(v(i,{[t]:n})),"log-level"===t&&N({...i,logLevel:n});break;case"redir-port":case"socks-port":case"mixed-port":case"port":if(""!==n){const e=parseInt(n,10);if(e<0||e>65535)return}p(t,n);break;default:return}}),[i,e,p]),h=ee((e=>g(e.target)),[g]),{selectChartStyleIndex:_,updateAppConfig:m}=y(),k=ee((t=>{const n=t.target,{name:l,value:a}=n;switch(l){case"port":case"socks-port":case"mixed-port":case"redir-port":{const t=parseInt(a,10);if(t<0||t>65535)return;e(v(i,{[l]:t}));break}case"latencyTestUrl":m(l,a);break;default:throw new Error(`unknown input name ${l}`)}}),[i,e,m]),j=ne((()=>{const e=o.mode;return"string"==typeof e&&e[0].toUpperCase()+e.slice(1)}),[o.mode]),{t:O,i18n:P}=x();return n("div",{children:[l(b,{title:O("Config")}),n("div",{className:U,children:[re.map((e=>void 0!==o[e.key]?n("div",{children:[l("div",{className:H,children:e.label}),l(z,{name:e.key,value:o[e.key],onChange:h,onBlur:k})]},e.key):null)),n("div",{children:[l("div",{className:H,children:"Mode"}),l(S,{options:oe,selected:j,onChange:e=>g({name:"mode",value:e.target.value})})]}),n("div",{children:[l("div",{className:H,children:"Log Level"}),l(S,{options:ae,selected:o["log-level"],onChange:e=>g({name:"log-level",value:e.target.value})})]}),n("div",{children:[l("div",{className:H,children:"Allow LAN"}),l("div",{className:B,children:l(w,{name:"allow-lan",checked:o["allow-lan"],onChange:u})})]})]}),l("div",{className:D,children:l("div",{})}),n("div",{className:A,children:[n("div",{children:[l("div",{className:H,children:O("latency_test_url")}),l(M,{name:"latencyTestUrl",type:"text",value:r,onBlur:k})]}),n("div",{children:[l("div",{className:H,children:O("lang")}),l("div",{children:l(S,{options:ie,selected:P.language,onChange:e=>P.changeLanguage(e.target.value)})})]}),n("div",{children:[l("div",{className:H,children:O("chart_style")}),l(K,{OptionComponent:X,optionPropsList:le,selectedIndex:a,onChange:_})]}),n("div",{children:[l("div",{className:H,children:"Action"}),l(C,{start:l(L,{size:16}),label:"Switch backend",onClick:c})]})]})]})}));e("default",g((e=>({configs:h(e),apiConfig:_(e)})))((function({dispatch:e,configs:t,apiConfig:n}){return Y((()=>{e(m(n))}),[e,n]),l(de,{configs:t})})))}}}))}();
